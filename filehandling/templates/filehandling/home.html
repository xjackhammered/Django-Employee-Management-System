{% include "filehandling/navbar.html" %}

<style>
    .upload-table {
        width: 80%;
        margin: 40px auto;
        border-collapse: collapse;
        font-family: Arial, sans-serif;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .upload-table th,
    .upload-table td {
        padding: 12px 16px;
        border: 1px solid #ddd;
        text-align: left;
    }

    .upload-table th {
        background-color: #f4f4f4;
        color: #333;
        font-weight: bold;
    }

    .upload-table tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    .upload-table tr:hover {
        background-color: #f1f1f1;
    }

    .upload-table caption {
        caption-side: top;
        text-align: center;
        font-size: 20px;
        margin-bottom: 15px;
        color: #444;
        font-weight: 600;
    }

    
    .pagination {
        margin-top: 1rem;
    }
    .pagination a {
        padding: 0.5rem;
        margin: 0 0.3rem;
        border: 1px solid #ccc;
        text-decoration: none;
        color: #333;
    }
    .pagination span {
        padding: 0.5rem;
        font-weight: bold;
    }
</style>

<table class="upload-table">
    <caption>File Uploads</caption>
    <tr>
        <th>File Name</th>
        <th>Upload Date</th>
    </tr>
    {% for x in page_obj %}
    <tr>
        <td>{{ x.filename }}</td>
        <td>{{ x.uploaded_at|date:"d-m-Y" }}</td>
        <td><a href="{% url 'upload-details' x.id %}">View</a></td>
    </tr>
    
    {% empty %}
    <tr>
        <td colspan="2" style="text-align: center;">No files uploaded yet.</td>
    </tr>
    {% endfor %}
</table>

<div class="pagination">
    {% if page_obj.has_previous %}
        <a href="?page=1">First</a>
        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
    {% endif %}

    <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">Last</a>
    {% endif %}
</div>